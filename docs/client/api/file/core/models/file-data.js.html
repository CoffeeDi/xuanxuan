<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">core/models/file-data.js | API</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-vue.css"><link rel="stylesheet" href="./inject/css/0-app.css"><link rel="stylesheet" href="./inject/css/0-esdoc.css"><script src="./inject/script/0-custom.js"></script><meta name="description" content="&#x4F01;&#x4E1A;&#x5373;&#x65F6;&#x901A;&#x8BAF;&#x5E73;&#x53F0;"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="API"><meta property="twitter:description" content="&#x4F01;&#x4E1A;&#x5373;&#x65F6;&#x901A;&#x8BAF;&#x5E73;&#x53F0;"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/easysoft/xuanxuan.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/events.js~Events.html">Events</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createCommandObject">createCommandObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-executeCommand">executeCommand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-executeCommandLine">executeCommandLine</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getCommandContext">getCommandContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerCommand">registerCommand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setCommandContext">setCommandContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-unregisterCommand">unregisterCommand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addContextMenuCreator">addContextMenuCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getInnerMenuItemsForContext">getInnerMenuItemsForContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMenuItemsForContext">getMenuItemsForContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMenuItemsFromCreator">getMenuItemsFromCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isCreatorMatch">isCreatorMatch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isDividerItem">isDividerItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeContextMenuCreator">removeContextMenuCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-showContextMenu">showContextMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tryAddDividerItem">tryAddDividerItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tryRemoveLastDivider">tryRemoveLastDivider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deptsSorter">deptsSorter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-forEachMember">forEachMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAllMembers">getAllMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDept">getDept</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDeptsTree">getDeptsTree</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMember">getMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRoleName">getRoleName</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-guessMember">guessMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initDepts">initDepts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initMembers">initMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onMembersChange">onMembersChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-queryMembers">queryMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeMember">removeMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateMembers">updateMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isMatchWindowCondition">isMatchWindowCondition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onNoticeUpdate">onNoticeUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateNotice">updateNotice</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ready">ready</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sayReady">sayReady</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-completeDragNDrop">completeDragNDrop</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-disableGlobalShortcut">disableGlobalShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emitAppLinkClick">emitAppLinkClick</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-enableGlobalShortcut">enableGlobalShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getUrlMeta">getUrlMeta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isAutoLoginNextTime">isAutoLoginNextTime</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isSmallScreen">isSmallScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onAppLinkClick">onAppLinkClick</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onReady">onReady</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrl">openUrl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrlInApp">openUrlInApp</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrlInBrowser">openUrlInBrowser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrlInDialog">openUrlInDialog</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerShortcut">registerShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-reloadWindow">reloadWindow</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setTitle">setTitle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-showMobileChatsMenu">showMobileChatsMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-triggerReady">triggerReady</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-unregisterGlobalShortcut">unregisterGlobalShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-contextMenuCreators">contextMenuCreators</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DATA_CHANGE_DELAY">DATA_CHANGE_DELAY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-events">events</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-app">app</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-depts">depts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-members">members</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-roles">roles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DEFAULT">DEFAULT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-requestAttention">requestAttention</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-isReadyed">isReadyed</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-clearCopyCodeTip">clearCopyCodeTip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-entryParams">entryParams</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-globalHotkeys">globalHotkeys</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-isGlobalShortcutDisabled">isGlobalShortcutDisabled</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-maxUrlCacheSize">maxUrlCacheSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-quit">quit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-urlMetaCaches">urlMetaCaches</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#db">db</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/db/database.js~Database.html">Database</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DB_VERSION">DB_VERSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastCreateDb">lastCreateDb</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-db">db</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#im">im</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-countChatMessages">countChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createChatMessage">createChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createCountMessagesTask">createCountMessagesTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deleteLocalMessage">deleteLocalMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-forEachChat">forEachChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAllChats">getAllChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChat">getChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatCategories">getChatCategories</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatFiles">getChatFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatMessages">getChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatMessagesInQueue">getChatMessagesInQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContactChat">getContactChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContactsChats">getContactsChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getGroupsChats">getGroupsChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getLastActiveChat">getLastActiveChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getLastRecentChat">getLastRecentChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getOne2OneChatGid">getOne2OneChatGid</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getPublicChats">getPublicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRecentChats">getRecentChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initChats">initChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadChatMessages">loadChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatMessages">onChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatsInit">onChatsInit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onFetchQueueFinish">onFetchQueueFinish</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-processChatMessageQueue">processChatMessageQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-queryChats">queryChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeChat">removeChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-saveChatMessages">saveChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-searchChatMessages">searchChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-searchChats">searchChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateChatMessages">updateChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateChats">updateChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updatePublicChats">updatePublicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkFileCache">checkFileCache</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkUploadFileSize">checkUploadFileSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-downloadFile">downloadFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadFiles">loadFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-searchFiles">searchFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadFile">uploadFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadImageFile">uploadImageFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getPlainTextOfChatMessage">getPlainTextOfChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-runChatNoticeTask">runChatNoticeTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatAddmember">chatAddmember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatCategory">chatCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatChangename">chatChangename</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatChangepublic">chatChangepublic</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatCreate">chatCreate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatDismiss">chatDismiss</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatGetlist">chatGetlist</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatGetpubliclist">chatGetpubliclist</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatHide">chatHide</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatHistory">chatHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatJoinchat">chatJoinchat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatMessage">chatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatMute">chatMute</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatNotify">chatNotify</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatSetcomitters">chatSetcomitters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatStar">chatStar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createBoardChatMessage">createBoardChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createChat">createChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createChatWithMembers">createChatWithMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createEmojiChatMessage">createEmojiChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createLocalChatWithMembers">createLocalChatWithMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createTextChatMessage">createTextChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createUrlObjectMessage">createUrlObjectMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dimissChat">dimissChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-exitChat">exitChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetchChatsHistory">fetchChatsHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetchPublicChats">fetchPublicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-handleInitChats">handleInitChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-handleReceiveChatMessages">handleReceiveChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-inviteMembersToChat">inviteMembersToChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isFetchingHistory">isFetchingHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-joinChat">joinChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-kickOfMemberFromChat">kickOfMemberFromChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatHistory">onChatHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatHistoryEnd">onChatHistoryEnd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatHistoryStart">onChatHistoryStart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onReceiveChatMessages">onReceiveChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSendChatMessages">onSendChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-renameChat">renameChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendBoardChatMessage">sendBoardChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendChatMessage">sendChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendEmojiMessage">sendEmojiMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendFileMessage">sendFileMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendImageAsBase64">sendImageAsBase64</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendImageMessage">sendImageMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendSocketMessageForChat">sendSocketMessageForChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendTextMessage">sendTextMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setChatCategory">setChatCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setCommitters">setCommitters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleChatPublic">toggleChatPublic</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleChatStar">toggleChatStar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleHideChat">toggleHideChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleMuteChat">toggleMuteChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateChatHistory">updateChatHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activeAndMapCacheChats">activeAndMapCacheChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activeChat">activeChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activeLastChat">activeLastChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-captureAndCutScreenImage">captureAndCutScreenImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatDismissConfirm">chatDismissConfirm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatExitConfirm">chatExitConfirm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatRenamePrompt">chatRenamePrompt</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createCatureScreenContextMenuItems">createCatureScreenContextMenuItems</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createGroupChat">createGroupChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emitChatSendboxFocus">emitChatSendboxFocus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hasMessageContextMenu">hasMessageContextMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isActiveChat">isActiveChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-linkMembersInText">linkMembersInText</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mapCacheChats">mapCacheChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onActiveChat">onActiveChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatSendboxFocus">onChatSendboxFocus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onRenderChatMessageContent">onRenderChatMessageContent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSendContentToChat">onSendContentToChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSuggestSendImage">onSuggestSendImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-renameChatCategory">renameChatCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-renderChatMessageContent">renderChatMessageContent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendContentToChat">sendContentToChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CHATS_LIMIT_DEFAULT">CHATS_LIMIT_DEFAULT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MAX_RECENT_TIME">MAX_RECENT_TIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SEARCH_SCORE_MAP">SEARCH_SCORE_MAP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-app">app</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-chats">chats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fetchChatMessagesQueue">fetchChatMessagesQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-isGetChatMessagesQueueBusy">isGetChatMessagesQueueBusy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-publicChats">publicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MIN_PROGRESS_CHANGE_INTERVAL">MIN_PROGRESS_CHANGE_INTERVAL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastNoticeChat">lastNoticeChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastNoticeInfo">lastNoticeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-updateChatNoticeTask">updateChatNoticeTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MAX_BASE64_IMAGE_SIZE">MAX_BASE64_IMAGE_SIZE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-chatJoinTask">chatJoinTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-historyFetchingPager">historyFetchingPager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-activeCaches">activeCaches</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-activedChatId">activedChatId</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-onRenderChatMessageContentListener">onRenderChatMessageContentListener</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#models">models</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/chat-message.js~ChatMessage.html">ChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/chat.js~Chat.html">Chat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/entity-schema.js~EntitySchema.html">EntitySchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/entity.js~Entity.html">Entity</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/file-data.js~FileData.html">FileData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/member.js~Member.html">Member</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/notification-message.js~NotificationMessage.html">NotificationMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dataURItoBlob">dataURItoBlob</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CONTENT_TYPES">CONTENT_TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-OBJECT_TYPES">OBJECT_TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SEND_WAIT_TIME">SEND_WAIT_TIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUS">STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-COMMITTERS_TYPES">COMMITTERS_TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DISMISS_VISIBLE_TIME">DISMISS_VISIBLE_TIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUS">STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaultValuesConveter">defaultValuesConveter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CATEGORIES">CATEGORIES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MATCH_SCORE_MAP">MATCH_SCORE_MAP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MATCH_SCORE_MAP">MATCH_SCORE_MAP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUS">STATUS</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#network">network</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/network/socket-message.js~SocketMessage.html">SocketMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/network/socket.js~AppSocket.html">AppSocket</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkUploadFileSize">checkUploadFileSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRanzhiServerInfo">getRanzhiServerInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-requestServerInfo">requestServerInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-listenMessage">listenMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-API">API</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LISTEN_TIMEOUT">LISTEN_TIMEOUT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PING_INTERVAL">PING_INTERVAL</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#profile">profile</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/profile/user-config.js~UserConfig.html">UserConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/profile/user.js~User.html">User</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createUser">createUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getCurrentUser">getCurrentUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getLastSavedUser">getLastSavedUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isCurrentUser">isCurrentUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSwapUser">onSwapUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserConfigChange">onUserConfigChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserStatusChange">onUserStatusChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setCurrentUser">setCurrentUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isPasswordWithMD5Flag">isPasswordWithMD5Flag</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-user">user</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PASSWORD_WITH_MD5_FLAG">PASSWORD_WITH_MD5_FLAG</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#server">server</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeUserStatus">changeUserStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkServerVersion">checkServerVersion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkVersionSupport">checkVersionSupport</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetchUserList">fetchUserList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-login">login</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-logout">logout</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserLogin">onUserLogin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserLoginout">onUserLoginout</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tryGetTempUserInfo">tryGetTempUserInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatError">chatError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatKickoff">chatKickoff</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatLogin">chatLogin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatLogout">chatLogout</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatSessionID">chatSessionID</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatSettings">chatSettings</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatUserChangeStatus">chatUserChangeStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatUserchange">chatUserchange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatUsergetlist">chatUsergetlist</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MIN_SUPPORT_VERSION">MIN_SUPPORT_VERSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TIMEOUT">TIMEOUT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastGetTempUserCall">lastGetTempUserCall</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-socket">socket</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tempUserIdList">tempUserIdList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#todo">todo</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createTodo">createTodo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createTodoFromMessage">createTodoFromMessage</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">core/models/file-data.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import UUID from &apos;uuid&apos;;
import md5 from &apos;md5&apos;;
import Entity from &apos;./entity&apos;;
import Member from &apos;./member&apos;;
import {matchScore} from &apos;../../utils/search-score&apos;;
import {createDate} from &apos;../../utils/date-helper&apos;;

/**
 * &#x5C06; data uri &#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A; Blob &#x5BF9;&#x8C61;
 * @param {string} dataURI data uri &#x683C;&#x5F0F;&#x6570;&#x636E;
 * @return {Blob} Blob &#x5BF9;&#x8C61;
 */
export const dataURItoBlob = (dataURI) =&gt; {
    // convert base64 to raw binary data held in a string
    // doesn&apos;t handle URLEncoded DataURIs
    const byteString = atob(dataURI.split(&apos;,&apos;)[1]);

    // separate out the mime component
    const mimeString = dataURI.split(&apos;,&apos;)[0].split(&apos;:&apos;)[1].split(&apos;;&apos;)[0];

    // write the bytes of the string to an ArrayBuffer
    const ab = new ArrayBuffer(byteString.length);
    const ia = new Uint8Array(ab);
    for (let i = 0; i &lt; byteString.length; i++) {
        ia[i] = byteString.charCodeAt(i);
    }

    // write the ArrayBuffer to a blob, and you&apos;re done
    const bb = new Blob([ab], {type: mimeString});
    return bb;
};

/**
 * &#x641C;&#x7D22;&#x5339;&#x914D;&#x5206;&#x503C;&#x8868;
 * @type {Object[]}
 * @private
 */
const MATCH_SCORE_MAP = [
    {name: &apos;name&apos;, equal: 100, include: 50},
    {name: &apos;category&apos;, equal: 100, prefix: &apos;:&apos;},
    {name: &apos;cgid&apos;, equal: 100, prefix: &apos;#&apos;},
    {name: &apos;senderId&apos;, equal: 100, prefix: &apos;@&apos;},
    {name: &apos;extName&apos;, equal: 100, prefix: &apos;.&apos;},
];

/**
 * &#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x8868;
 * @type {Object[]}
 * @private
 */
const CATEGORIES = [
    {name: &apos;doc&apos;, like: new Set([&apos;doc&apos;, &apos;docx&apos;, &apos;ppt&apos;, &apos;pptx&apos;, &apos;xls&apos;, &apos;xlsx&apos;, &apos;key&apos;, &apos;page&apos;, &apos;number&apos;, &apos;pdf&apos;, &apos;txt&apos;, &apos;md&apos;, &apos;rtf&apos;, &apos;wps&apos;, &apos;html&apos;, &apos;htm&apos;, &apos;chtml&apos;, &apos;epub&apos;, &apos;&apos;])},
    {name: &apos;image&apos;, like: new Set([&apos;jpg&apos;, &apos;jpeg&apos;, &apos;sketch&apos;, &apos;psd&apos;, &apos;png&apos;, &apos;gif&apos;, &apos;tiff&apos;, &apos;ico&apos;, &apos;icns&apos;, &apos;svg&apos;])},
    {name: &apos;program&apos;, like: new Set([&apos;js&apos;, &apos;exe&apos;, &apos;app&apos;, &apos;dmg&apos;, &apos;msi&apos;, &apos;bat&apos;, &apos;sh&apos;])}
];

/**
 * &#x6587;&#x4EF6;&#x6570;&#x636E;&#x7C7B;
 *
 * @export
 * @class FileData
 * @extends {Entity}
 */
export default class FileData extends Entity {
    /**
     * &#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x8868;
     * @type {Object[]}
     */
    static CATEGORIES = CATEGORIES;

    /**
     * &#x5B9E;&#x4F53;&#x540D;&#x79F0;
     * @type {string}
     */
    static NAME = &apos;FileData&apos;;

    /**
     * &#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5B9E;&#x4F53;&#x5C5E;&#x6027;&#x7ED3;&#x6784;&#x7BA1;&#x7406;&#x5668;
     *
     * @type {EntitySchema}
     * @static
     * @memberof FileData
     */
    static SCHEMA = Entity.SCHEMA.extend({
        cgid: {type: &apos;string&apos;, indexed: true},
        senderId: {type: &apos;int&apos;, indexed: true},
        size: {type: &apos;int&apos;, indexed: true},
        width: {type: &apos;int&apos;, indexed: false},
        height: {type: &apos;int&apos;, indexed: false},
        date: {type: &apos;timestamp&apos;, indexed: true},
        type: {type: &apos;string&apos;, indexed: true},
        name: {type: &apos;string&apos;, indexed: true},
        send: {
            type: &apos;int&apos;,
            indexed: true,
            getter: val =&gt; {
                if (val === -1) {
                    return true;
                }
                if (val === -2) {
                    return false;
                }
                return val;
            },
            setter: val =&gt; {
                if (val === true) {
                    return -1;
                }
                if (val === false) {
                    return -2;
                }
                return val;
            }
        },
    });

    /**
     * &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7C7B;&#x5B9E;&#x4F8B;
     * @param {Object&lt;string, any&gt;} data &#x6587;&#x4EF6;&#x5C5E;&#x6027;&#x5BF9;&#x8C61;
     * @param {string} [entityType=FileData.NAME] &#x5B9E;&#x4F53;&#x7C7B;&#x578B;&#x540D;&#x79F0;
     * @memberof FileData
     */
    constructor(data, entityType = FileData.NAME) {
        super(data, entityType);

        if (data.time) {
            /**
             * &#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;
             * @type {number}
             */
            this.date = data.time;
        }
        if (data.originFile) {
            /**
             * &#x539F;&#x59CB;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;
             * @type {File|Object}
             */
            this.originFile = data.originFile;
        }
        if (data.path) {
            /**
             * &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;
             * @type {string}
             */
            this.path = data.path;
        }
    }

    /**
     * &#x786E;&#x4FDD; Gid &#x5C5E;&#x6027;&#x6709;&#x53EF;&#x7528;&#x7684;&#x503C;
     * @memberof FileData
     * @return {void}
     */
    ensureGid() {
        if (!this.$.gid) {
            if (this.isOK) {
                this.$.gid = md5(`${this.name}:${this.date}:${this.id}`);
            } else {
                this.$.gid = UUID();
            }
        }
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x539F;&#x59CB;&#x7C7B;&#x578B;
     * @memberof FileData
     * @type {string}
     * @readonly
     */
    get originType() {
        const {originFile} = this;
        if (originFile) {
            if (originFile instanceof File) {
                return &apos;file&apos;;
            }
            if (originFile.base64) {
                return &apos;base64&apos;;
            }
            if (originFile.blob) {
                return &apos;blob&apos;;
            }
        }
        return null;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x539F;&#x59CB;&#x5B58;&#x50A8;&#x6570;&#x636E;
     * @memberof FileData
     * @type {File|Blob|string}
     * @readonly
     */
    get originData() {
        const {originType, originFile} = this;
        if (originType &amp;&amp; originFile) {
            if (originType === &apos;blob&apos;) {
                return originFile.blob;
            }
            if (originType === &apos;file&apos;) {
                return originFile;
            }
            if (originType === &apos;base64&apos;) {
                originFile.blob = dataURItoBlob(originFile.base64);
                return originFile.blob;
            }
        }
        return null;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x5730;&#x5740;
     *
     * @param {User} user &#x5F53;&#x524D;&#x7528;&#x6237;
     * @returns {string} &#x6587;&#x4EF6;&#x5730;&#x5740;
     * @memberof FileData
     */
    getViewUrl(user) {
        const {originFile} = this;
        if (originFile) {
            if (!this._viewUrl) {
                this._viewUrl = originFile.path || this.localPath;
                if (this._viewUrl &amp;&amp; !this._viewUrl.startsWith(&apos;http://&apos;) &amp;&amp; !this._viewUrl.startsWith(&apos;https://&apos;) &amp;&amp; !this._viewUrl.startsWith(&apos;file://&apos;)) {
                    this._viewUrl = `file://${this._viewUrl}`;
                }
            }
            if (!this._viewUrl) {
                if (originFile.blob) {
                    this._viewUrl = URL.createObjectURL(originFile.blob);
                } else {
                    this._viewUrl = originFile.base64;
                }
            }
            if (!this._viewUrl &amp;&amp; (originFile instanceof File || originFile instanceof Blob)) {
                this._viewUrl = URL.createObjectURL(originFile);
            }
            if (!this._viewUrl) {
                this._viewUrl = this.makeUrl(user);
            }
        }
        return this._viewUrl;
    }

    /**
     * &#x83B7;&#x53D6;&#x4E0A;&#x6B21;&#x4E3A;&#x7528;&#x6237;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x5730;&#x5740;
     *
     * @readonly
     * @memberof FileData
     * @type {string}
     */
    get viewUrl() {
        return this.getViewUrl();
    }

    /**
     * &#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5B9E;&#x4F53;&#x5C5E;&#x6027;&#x7ED3;&#x6784;&#x7BA1;&#x7406;&#x5668;
     *
     * @readonly
     * @memberof FileData
     * @type {EntitySchema}
     */
    // eslint-disable-next-line class-methods-use-this
    get schema() {
        return FileData.SCHEMA;
    }

    /**
     * &#x83B7;&#x53D6;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x7B80;&#x5355;&#x5BF9;&#x8C61;
     *
     * @return {Object&lt;string, any&gt;} &#x7528;&#x4E8E;&#x7684;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;
     * @memberof FileData
     */
    plain() {
        const plainData = super.plain();
        delete plainData.path;
        delete plainData.originFile;
        return plainData;
    }

    /**
     * &#x83B7;&#x53D6;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;&#x7684; JSON &#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;
     * @memberof FileData
     * @type {string}
     * @readonly
     */
    get json() {
        return JSON.stringify(this.plain());
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x7684;&#x804A;&#x5929; GID
     * @memberof FileData
     * @type {string}
     */
    get cgid() {
        return this.$get(&apos;cgid&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x7684;&#x804A;&#x5929; GID
     * @param {string} gid &#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x7684;&#x804A;&#x5929; GID
     * @memberof FileData
     */
    set cgid(gid) {
        this.$set(&apos;cgid&apos;, gid);
    }

    /**
     * &#x83B7;&#x53D6;&#x5185;&#x90E8;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x540D;
     * @memberof FileData
     * @type {string}
     * @readonly
     */
    get storageName() {
        return `${this.gid}.${this.extName}`;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;
     * @memberof FileData
     * @type {Date} &#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;
     */
    get date() {
        return createDate(this.$get(&apos;date&apos;));
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;&#xFF08;&#x65F6;&#x95F4;&#x6233;&#x683C;&#x5F0F;&#xFF09;
     * @param {number} date &#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;
     * @memberof FileData
     */
    set date(date) {
        this.$set(&apos;date&apos;, date);
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;&#xFF08;php &#x65F6;&#x95F4;&#x6233;&#x683C;&#x5F0F;&#xFF09;
     * @memberof FileData
     * @type {number}
     */
    get time() {
        return Math.floor(this.date.getTime() / 1000);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;&#xFF08;php &#x65F6;&#x95F4;&#x6233;&#x683C;&#x5F0F;&#xFF09;
     * @param {number} time &#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65E5;&#x671F;&#xFF08;php &#x65F6;&#x95F4;&#x6233;&#x683C;&#x5F0F;&#xFF09;
     * @memberof FileData
     */
    set time(time) {
        this.date = time;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x8005; ID
     * @memberof FileData
     * @type {string}
     */
    get senderId() {
        return this.$get(&apos;senderId&apos;);
    }

    /**
     * &#x5224;&#x65AD;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237; ID &#x662F;&#x5426;&#x662F;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x53D1;&#x9001;&#x8005;
     * @memberof FileData
     * @param {string} userID &#x7528;&#x6237; ID
     * @return {boolean} &#x5982;&#x679C;&#x4E3A; `true` &#x5219;&#x4E3A;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x8005;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x662F;
     */
    isSender(userID) {
        return this.senderId === userID;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x8005;
     * @memberof FileData
     * @type {Member}
     */
    get sender() {
        if (!this._sender) {
            return new Member({
                id: this.senderId
            });
        }
        return this._sender;
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x7740;
     * @param {Member} sendUser &#x6587;&#x4EF6;&#x53D1;&#x9001;&#x7740;
     * @memberof FileData
     */
    set sender(sendUser) {
        if (sendUser) {
            this._sender = sendUser;
            this.$set(&apos;user&apos;, sendUser.id);
        }
    }

    /**
     * &#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x6210;&#x5458;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x8005;
     * @param {{get: function(id: string):Member}} appMembers &#x7CFB;&#x7EDF;&#x6210;&#x5458;&#x83B7;&#x53D6;&#x8F85;&#x52A9;&#x5BF9;&#x8C61;
     * @returns {Member} &#x6587;&#x4EF6;&#x53D1;&#x9001;&#x8005;
     * @memberof FileData
     */
    getSender(appMembers) {
        if (!this._sender) {
            this._sender = appMembers.get(this.senderId);
        }
        return this._sender;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x7C7B;&#x578B;
     * @memberof FileData
     * @type {string}
     */
    get type() {
        return this.$get(&apos;type&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x7C7B;&#x578B;
     * @param {string} type &#x6587;&#x4EF6;&#x7C7B;&#x578B;
     * @memberof FileData
     */
    set type(type) {
        this.$set(&apos;type&apos;, type);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x662F;&#x56FE;&#x7247;&#x7C7B;&#x578B;
     * @memberof FileData
     * @type {boolean}
     * @readonly
     */
    get isImage() {
        const {type} = this;
        return type &amp;&amp; type.startsWith(&apos;image&apos;);
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x5B57;&#x8282;
     * @memberof FileData
     * @type {number}
     */
    get size() {
        return this.$get(&apos;size&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x5B57;&#x8282;
     * @param {number} size &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x5B57;&#x8282;
     * @memberof FileData
     */
    set size(size) {
        this.$set(&apos;size&apos;, size);
    }

    /**
     * &#x83B7;&#x53D6;&#x56FE;&#x7247;&#x5BBD;&#x5EA6;
     * @memberof FileData
     * @type {number}
     */
    get width() {
        return this.$get(&apos;width&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x56FE;&#x7247;&#x5BBD;&#x5EA6;
     * @param {number} width &#x56FE;&#x7247;&#x5BBD;&#x5EA6;
     * @memberof FileData
     */
    set width(width) {
        this.$set(&apos;width&apos;, width);
    }

    /**
     * &#x83B7;&#x53D6;&#x56FE;&#x7247;&#x9AD8;&#x5EA6;
     * @memberof FileData
     * @type {number}
     */
    get height() {
        return this.$get(&apos;height&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x56FE;&#x7247;&#x9AD8;&#x5EA6;
     * @param {number} height &#x56FE;&#x7247;&#x9AD8;&#x5EA6;
     * @memberof FileData
     */
    set height(height) {
        this.$set(&apos;height&apos;, height);
    }

    /**
     * &#x83B7;&#x53D6;&#x56FE;&#x7247;&#x4FE1;&#x606F;
     * @memberof FileData
     * @type {{width: number, height: number}}
     * @property {number} width &#x56FE;&#x7247;&#x5BBD;&#x5EA6;
     * @property {number} height &#x56FE;&#x7247;&#x9AD8;&#x5EA6;
     * @readonly
     */
    get imageInfo() {
        const {width, height} = this;
        return width &amp;&amp; height ? {width, height} : null;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x540D;&#x79F0;
     * @memberof FileData
     * @type {string}
     */
    get name() {
        return this.$get(&apos;name&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x540D;&#x79F0;
     * @param {string} name &#x6587;&#x4EF6;&#x540D;&#x79F0;
     * @memberof FileData
     */
    set name(name) {
        this.$set(&apos;name&apos;, name);
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6B64;&#x5C5E;&#x6027;&#x53EF;&#x80FD;&#x503C;&#x5305;&#x62EC;&#xFF1A;
     * - 0&#xFF5E;100 &#x7684;&#x6570;&#x5B57;&#xFF0C;&#x8868;&#x793A;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x767E;&#x5206;&#x6BD4;&#xFF1B;
     * - `false`&#xFF0C;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF1B;
     * - `true`&#xFF0C;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002;
     * @memberof FileData
     * @type {boolean|number}
     */
    get send() {
        return this.$get(&apos;send&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;&#xFF0C;&#x6B64;&#x5C5E;&#x6027;&#x53EF;&#x80FD;&#x503C;&#x5305;&#x62EC;&#xFF1A;
     * - 0&#xFF5E;100 &#x7684;&#x6570;&#x5B57;&#xFF0C;&#x8868;&#x793A;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x767E;&#x5206;&#x6BD4;&#xFF1B;
     * - `false`&#xFF0C;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF1B;
     * - `true`&#xFF0C;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002;
     * @param {boolean|number} send &#x6587;&#x4EF6;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;
     * @memberof FileData
     */
    set send(send) {
        this.$set(&apos;send&apos;, send);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;
     * @memberof FileData
     * @readonly
     * @type {boolean}
     */
    get isOK() {
        return this.id &amp;&amp; this.send === true;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#xFF0C;&#x4F8B;&#x5982; `&apos;txt&apos;`
     * @memberof FileData
     * @type {string}
     * @readonly
     */
    get extName() {
        if (this._extName === undefined) {
            const {name} = this;
            const dotIndex = name.lastIndexOf(&apos;.&apos;);
            this._extName = dotIndex &gt; -1 ? name.substr(dotIndex + 1) : &apos;&apos;;
        }
        return this._extName;
    }

    /**
     * &#x83B7;&#x53D6;&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7C7B;&#x578B;
     * @memberof FileData
     * @type {string}
     * @readonly
     */
    get category() {
        if (!this._category) {
            this._category = &apos;other&apos;;
            const {extName} = this;
            if (extName) {
                for (const cat of CATEGORIES) {
                    if (cat.like.has(extName)) {
                        this._category = cat.name;
                        break;
                    }
                }
            }
        }
        return this._category;
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x4E0E;&#x7ED9;&#x5B9A;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5339;&#x914D;&#x5206;&#x503C;
     * @memberof FileData
     * @param {string[]} keys &#x5173;&#x952E;&#x5B57;&#x5217;&#x8868;
     * @return {number} &#x5339;&#x914D;&#x7684;&#x5206;&#x503C;
     */
    getMatchScore(keys) {
        return matchScore(MATCH_SCORE_MAP, this, keys);
    }

    /**
     * &#x62FC;&#x63A5;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x5730;&#x5740;
     * @memberof FileData
     * @param {User} user &#x5F53;&#x524D;&#x7528;&#x6237;
     * @return {string} &#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x5730;&#x5740;
     */
    makeUrl(user) {
        if (!this._url &amp;&amp; user) {
            this._url = user.makeServerUrl(`download?fileName=${encodeURIComponent(this.name)}&amp;time=${this.time || 0}&amp;id=${this.id}&amp;ServerName=${user.serverName}&amp;gid=${user.id}&amp;sid=${md5(user.sessionID + this.name)}`);
        }
        return this._url;
    }

    /**
     * &#x83B7;&#x53D6;&#x4E0A;&#x6B21;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x7684;&#x5730;&#x5740;
     * @memberof FileData
     * @type {string}
     */
    get url() {
        return this._url;
    }

    /**
     * &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7C7B;&#x5BF9;&#x8C61;
     *
     * @static
     * @param {Object|FileData} fileData &#x6587;&#x4EF6;&#x5C5E;&#x6027;&#x5BF9;&#x8C61;
     * @return {FileData} &#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7C7B;&#x5BF9;&#x8C61;
     * @memberof FileData
     */
    static create(fileData) {
        if (fileData instanceof FileData) {
            return fileData;
        }
        if (fileData instanceof File || fileData.base64 || fileData.blob) {
            const originFile = fileData;
            fileData = {
                date: originFile.lastModifiedDate || new Date().getTime(),
                name: originFile.name,
                size: originFile.size,
                width: originFile.width,
                height: originFile.height,
                send: 0,
                type: originFile.type,
                originFile
            };
        }
        return new FileData(fileData);
    }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
