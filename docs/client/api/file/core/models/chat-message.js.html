<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">core/models/chat-message.js | API</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-vue.css"><link rel="stylesheet" href="./inject/css/0-app.css"><link rel="stylesheet" href="./inject/css/0-esdoc.css"><script src="./inject/script/0-custom.js"></script><meta name="description" content="&#x4F01;&#x4E1A;&#x5373;&#x65F6;&#x901A;&#x8BAF;&#x5E73;&#x53F0;"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="API"><meta property="twitter:description" content="&#x4F01;&#x4E1A;&#x5373;&#x65F6;&#x901A;&#x8BAF;&#x5E73;&#x53F0;"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/easysoft/xuanxuan.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/events.js~Events.html">Events</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createCommandObject">createCommandObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-executeCommand">executeCommand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-executeCommandLine">executeCommandLine</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getCommandContext">getCommandContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerCommand">registerCommand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setCommandContext">setCommandContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-unregisterCommand">unregisterCommand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addContextMenuCreator">addContextMenuCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getInnerMenuItemsForContext">getInnerMenuItemsForContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMenuItemsForContext">getMenuItemsForContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMenuItemsFromCreator">getMenuItemsFromCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isCreatorMatch">isCreatorMatch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isDividerItem">isDividerItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeContextMenuCreator">removeContextMenuCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-showContextMenu">showContextMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tryAddDividerItem">tryAddDividerItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tryRemoveLastDivider">tryRemoveLastDivider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deptsSorter">deptsSorter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-forEachMember">forEachMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAllMembers">getAllMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDept">getDept</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDeptsTree">getDeptsTree</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMember">getMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRoleName">getRoleName</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-guessMember">guessMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initDepts">initDepts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initMembers">initMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onMembersChange">onMembersChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-queryMembers">queryMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeMember">removeMember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateMembers">updateMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isMatchWindowCondition">isMatchWindowCondition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onNoticeUpdate">onNoticeUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateNotice">updateNotice</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ready">ready</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sayReady">sayReady</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-completeDragNDrop">completeDragNDrop</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-disableGlobalShortcut">disableGlobalShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emitAppLinkClick">emitAppLinkClick</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-enableGlobalShortcut">enableGlobalShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getUrlMeta">getUrlMeta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isAutoLoginNextTime">isAutoLoginNextTime</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isSmallScreen">isSmallScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onAppLinkClick">onAppLinkClick</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onReady">onReady</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrl">openUrl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrlInApp">openUrlInApp</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrlInBrowser">openUrlInBrowser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openUrlInDialog">openUrlInDialog</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerShortcut">registerShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-reloadWindow">reloadWindow</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setTitle">setTitle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-showMobileChatsMenu">showMobileChatsMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-triggerReady">triggerReady</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-unregisterGlobalShortcut">unregisterGlobalShortcut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-contextMenuCreators">contextMenuCreators</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DATA_CHANGE_DELAY">DATA_CHANGE_DELAY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-events">events</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-app">app</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-depts">depts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-members">members</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-roles">roles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DEFAULT">DEFAULT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-requestAttention">requestAttention</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-isReadyed">isReadyed</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-clearCopyCodeTip">clearCopyCodeTip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-entryParams">entryParams</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-globalHotkeys">globalHotkeys</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-isGlobalShortcutDisabled">isGlobalShortcutDisabled</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-maxUrlCacheSize">maxUrlCacheSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-quit">quit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-urlMetaCaches">urlMetaCaches</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#db">db</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/db/database.js~Database.html">Database</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DB_VERSION">DB_VERSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastCreateDb">lastCreateDb</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-db">db</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#im">im</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-countChatMessages">countChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createChatMessage">createChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createCountMessagesTask">createCountMessagesTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deleteLocalMessage">deleteLocalMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-forEachChat">forEachChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAllChats">getAllChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChat">getChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatCategories">getChatCategories</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatFiles">getChatFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatMessages">getChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChatMessagesInQueue">getChatMessagesInQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContactChat">getContactChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContactsChats">getContactsChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getGroupsChats">getGroupsChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getLastActiveChat">getLastActiveChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getLastRecentChat">getLastRecentChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getOne2OneChatGid">getOne2OneChatGid</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getPublicChats">getPublicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRecentChats">getRecentChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initChats">initChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadChatMessages">loadChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatMessages">onChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatsInit">onChatsInit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onFetchQueueFinish">onFetchQueueFinish</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-processChatMessageQueue">processChatMessageQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-queryChats">queryChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeChat">removeChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-saveChatMessages">saveChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-searchChatMessages">searchChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-searchChats">searchChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateChatMessages">updateChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateChats">updateChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updatePublicChats">updatePublicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkFileCache">checkFileCache</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkUploadFileSize">checkUploadFileSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-downloadFile">downloadFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadFiles">loadFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-searchFiles">searchFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadFile">uploadFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadImageFile">uploadImageFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getPlainTextOfChatMessage">getPlainTextOfChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-runChatNoticeTask">runChatNoticeTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatAddmember">chatAddmember</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatCategory">chatCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatChangename">chatChangename</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatChangepublic">chatChangepublic</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatCreate">chatCreate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatDismiss">chatDismiss</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatGetlist">chatGetlist</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatGetpubliclist">chatGetpubliclist</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatHide">chatHide</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatHistory">chatHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatJoinchat">chatJoinchat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatMessage">chatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatMute">chatMute</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatNotify">chatNotify</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatSetcomitters">chatSetcomitters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatStar">chatStar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createBoardChatMessage">createBoardChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createChat">createChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createChatWithMembers">createChatWithMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createEmojiChatMessage">createEmojiChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createLocalChatWithMembers">createLocalChatWithMembers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createTextChatMessage">createTextChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createUrlObjectMessage">createUrlObjectMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dimissChat">dimissChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-exitChat">exitChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetchChatsHistory">fetchChatsHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetchPublicChats">fetchPublicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-handleInitChats">handleInitChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-handleReceiveChatMessages">handleReceiveChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-inviteMembersToChat">inviteMembersToChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isFetchingHistory">isFetchingHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-joinChat">joinChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-kickOfMemberFromChat">kickOfMemberFromChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatHistory">onChatHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatHistoryEnd">onChatHistoryEnd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatHistoryStart">onChatHistoryStart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onReceiveChatMessages">onReceiveChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSendChatMessages">onSendChatMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-renameChat">renameChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendBoardChatMessage">sendBoardChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendChatMessage">sendChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendEmojiMessage">sendEmojiMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendFileMessage">sendFileMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendImageAsBase64">sendImageAsBase64</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendImageMessage">sendImageMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendSocketMessageForChat">sendSocketMessageForChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendTextMessage">sendTextMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setChatCategory">setChatCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setCommitters">setCommitters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleChatPublic">toggleChatPublic</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleChatStar">toggleChatStar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleHideChat">toggleHideChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleMuteChat">toggleMuteChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateChatHistory">updateChatHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activeAndMapCacheChats">activeAndMapCacheChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activeChat">activeChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activeLastChat">activeLastChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-captureAndCutScreenImage">captureAndCutScreenImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatDismissConfirm">chatDismissConfirm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatExitConfirm">chatExitConfirm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatRenamePrompt">chatRenamePrompt</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createCatureScreenContextMenuItems">createCatureScreenContextMenuItems</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createGroupChat">createGroupChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emitChatSendboxFocus">emitChatSendboxFocus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hasMessageContextMenu">hasMessageContextMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isActiveChat">isActiveChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-linkMembersInText">linkMembersInText</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mapCacheChats">mapCacheChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onActiveChat">onActiveChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onChatSendboxFocus">onChatSendboxFocus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onRenderChatMessageContent">onRenderChatMessageContent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSendContentToChat">onSendContentToChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSuggestSendImage">onSuggestSendImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-renameChatCategory">renameChatCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-renderChatMessageContent">renderChatMessageContent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendContentToChat">sendContentToChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CHATS_LIMIT_DEFAULT">CHATS_LIMIT_DEFAULT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MAX_RECENT_TIME">MAX_RECENT_TIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SEARCH_SCORE_MAP">SEARCH_SCORE_MAP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-app">app</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-chats">chats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fetchChatMessagesQueue">fetchChatMessagesQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-isGetChatMessagesQueueBusy">isGetChatMessagesQueueBusy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-publicChats">publicChats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MIN_PROGRESS_CHANGE_INTERVAL">MIN_PROGRESS_CHANGE_INTERVAL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastNoticeChat">lastNoticeChat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastNoticeInfo">lastNoticeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-updateChatNoticeTask">updateChatNoticeTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MAX_BASE64_IMAGE_SIZE">MAX_BASE64_IMAGE_SIZE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-chatJoinTask">chatJoinTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-historyFetchingPager">historyFetchingPager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-activeCaches">activeCaches</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-activedChatId">activedChatId</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-onRenderChatMessageContentListener">onRenderChatMessageContentListener</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#models">models</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/chat-message.js~ChatMessage.html">ChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/chat.js~Chat.html">Chat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/entity-schema.js~EntitySchema.html">EntitySchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/entity.js~Entity.html">Entity</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/file-data.js~FileData.html">FileData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/member.js~Member.html">Member</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/models/notification-message.js~NotificationMessage.html">NotificationMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dataURItoBlob">dataURItoBlob</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CONTENT_TYPES">CONTENT_TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-OBJECT_TYPES">OBJECT_TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SEND_WAIT_TIME">SEND_WAIT_TIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUS">STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-COMMITTERS_TYPES">COMMITTERS_TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DISMISS_VISIBLE_TIME">DISMISS_VISIBLE_TIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUS">STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaultValuesConveter">defaultValuesConveter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CATEGORIES">CATEGORIES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MATCH_SCORE_MAP">MATCH_SCORE_MAP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MATCH_SCORE_MAP">MATCH_SCORE_MAP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUS">STATUS</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#network">network</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/network/socket-message.js~SocketMessage.html">SocketMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/network/socket.js~AppSocket.html">AppSocket</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkUploadFileSize">checkUploadFileSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRanzhiServerInfo">getRanzhiServerInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-requestServerInfo">requestServerInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-listenMessage">listenMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-API">API</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LISTEN_TIMEOUT">LISTEN_TIMEOUT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PING_INTERVAL">PING_INTERVAL</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#profile">profile</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/profile/user-config.js~UserConfig.html">UserConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/profile/user.js~User.html">User</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createUser">createUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getCurrentUser">getCurrentUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getLastSavedUser">getLastSavedUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isCurrentUser">isCurrentUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onSwapUser">onSwapUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserConfigChange">onUserConfigChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserStatusChange">onUserStatusChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setCurrentUser">setCurrentUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isPasswordWithMD5Flag">isPasswordWithMD5Flag</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-user">user</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PASSWORD_WITH_MD5_FLAG">PASSWORD_WITH_MD5_FLAG</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#server">server</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeUserStatus">changeUserStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkServerVersion">checkServerVersion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkVersionSupport">checkVersionSupport</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetchUserList">fetchUserList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-login">login</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-logout">logout</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserLogin">onUserLogin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onUserLoginout">onUserLoginout</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tryGetTempUserInfo">tryGetTempUserInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatError">chatError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatKickoff">chatKickoff</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatLogin">chatLogin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatLogout">chatLogout</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatSessionID">chatSessionID</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatSettings">chatSettings</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatUserChangeStatus">chatUserChangeStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatUserchange">chatUserchange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chatUsergetlist">chatUsergetlist</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MIN_SUPPORT_VERSION">MIN_SUPPORT_VERSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TIMEOUT">TIMEOUT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lastGetTempUserCall">lastGetTempUserCall</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-socket">socket</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tempUserIdList">tempUserIdList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT">EVENT</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#todo">todo</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createTodo">createTodo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createTodoFromMessage">createTodoFromMessage</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">core/models/chat-message.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import Entity from &apos;./entity&apos;;
import Status from &apos;../../utils/status&apos;;
import Member from &apos;./member&apos;;

/**
 * &#x804A;&#x5929;&#x6D88;&#x606F;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5668;
 *
 * @private
 * @type {Status}
 */
const STATUS = new Status({
    draft: 0,
    sending: 1,
    sendFail: 2,
    ok: 3,
}, 0);

/**
 * &#x804A;&#x5929;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#x8868;
 * @type {Object&lt;string,string&gt;}
 * @private
 */
const TYPES = {
    broadcast: &apos;broadcast&apos;,
    normal: &apos;normal&apos;,
    notification: &apos;notification&apos;
};

/**
 * &#x804A;&#x5929;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#x8868;
 * @type {Object&lt;string,string&gt;}
 * @private
 */
const CONTENT_TYPES = {
    file: &apos;file&apos;,
    image: &apos;image&apos;,
    text: &apos;text&apos;,
    plain: &apos;plain&apos;,
    emoticon: &apos;emoticon&apos;,
    object: &apos;object&apos;
};

/**
 * &#x804A;&#x5929;&#x6D88;&#x606F;&#x5BF9;&#x8C61;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#x8868;
 * @type {Object&lt;string,string&gt;}
 * @private
 */
const OBJECT_TYPES = {
    default: &apos;default&apos;,
    url: &apos;url&apos;
};

/**
 * &#x5224;&#x65AD;&#x4F1A;&#x53D1;&#x9001;&#x5931;&#x8D25;&#x7684;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x6BEB;&#x79D2;
 * @type {number}
 * @private
 */
const SEND_WAIT_TIME = 10000;

export default class ChatMessage extends Entity {
    /**
     * &#x5B9E;&#x4F53;&#x540D;&#x79F0;
     * @type {string}
     * @memberof Entity
     */
    static NAME = &apos;ChatMessage&apos;;

    /**
     * &#x804A;&#x5929;&#x6D88;&#x606F;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5668;
     *
     * @static
     * @type {Status}
     * @memberof ChatMessage
     */
    static STATUS = STATUS;

    /**
     * &#x804A;&#x5929;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#x8868;
     * @type {Object&lt;string,string&gt;}
     * @static
     * @memberof ChatMessage
     */
    static TYPES = TYPES;

    /**
     * &#x804A;&#x5929;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#x8868;
     * @type {Object&lt;string,string&gt;}
     * @static
     * @memberof ChatMessage
     */
    static CONTENT_TYPES = CONTENT_TYPES;

    /**
     * &#x804A;&#x5929;&#x6D88;&#x606F;&#x5BF9;&#x8C61;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#x8868;
     * @type {Object&lt;string,string&gt;}
     * @static
     * @memberof ChatMessage
     */
    static OBJECT_TYPES = OBJECT_TYPES;

    /**
     * &#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5B9E;&#x4F53;&#x5C5E;&#x6027;&#x7ED3;&#x6784;&#x7BA1;&#x7406;&#x5668;
     *
     * @type {EntitySchema}
     * @static
     * @memberof Chat
     */
    static SCHEMA = Entity.SCHEMA.extend({
        cgid: {type: &apos;string&apos;, indexed: true},
        user: {type: &apos;int&apos;, indexed: true},
        order: {type: &apos;int&apos;, indexed: true},
        date: {type: &apos;timestamp&apos;, indexed: true},
        type: {type: &apos;string&apos;, indexed: true, defaultValue: TYPES.normal},
        contentType: {type: &apos;string&apos;, indexed: true, defaultValue: CONTENT_TYPES.text},
        content: {type: &apos;string&apos;, defaultValue: null},
        unread: {type: &apos;boolean&apos;, indexed: true, defaultValue: false},
        status: {type: &apos;int&apos;, indexed: true},
        data: {type: &apos;json&apos;},
    });

    /**
     * &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x804A;&#x5929;&#x6D88;&#x606F;&#x7C7B;&#x5B9E;&#x4F8B;
     * @param {Object&lt;string,any&gt;} data &#x804A;&#x5929;&#x6D88;&#x606F;&#x5C5E;&#x6027;&#x5BF9;&#x8C61;
     * @param {string} [entityType=Chat.NAME] &#x5B9E;&#x4F53;&#x7C7B;&#x578B;&#x540D;&#x79F0;
     * @memberof Chat
     */
    constructor(data, entityType = ChatMessage.NAME) {
        super(data, entityType);

        /**
         * &#x804A;&#x5929;&#x6D88;&#x606F;&#x72B6;&#x6001;
         * @type {Status}
         * @private
         */
        this._status = STATUS.create(this.$.status);
        this._status.onChange = newStatus =&gt; {
            this.$.status = newStatus;
            if (typeof this.onStatusChange === &apos;function&apos;) {
                this.onStatusChange(newStatus, this);
            }
        };
        if (!this.$.contentType) {
            this.$.contentType = CONTENT_TYPES.text;
        }
        if (!this.$.type) {
            this.$.type = TYPES.normal;
        }
        if (!this.$.date) {
            this.$.date = new Date().getTime();
        }
    }

    /**
     * &#x83B7;&#x53D6;&#x7528;&#x4E8E;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x7B80;&#x5355;&#x5BF9;&#x8C61;
     *
     * @return {Object&lt;string,any&gt;} &#x7B80;&#x5355;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     */
    plainServer() {
        return {
            gid: this.gid,
            cgid: this.cgid,
            type: this.type,
            contentType: this.contentType,
            content: this.content,
            date: &apos;&apos;,
            user: this.senderId,
            order: this.order,
        };
    }

    /**
     * &#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5B9E;&#x4F53;&#x5C5E;&#x6027;&#x7ED3;&#x6784;&#x7BA1;&#x7406;&#x5668;
     *
     * @readonly
     * @memberof Member
     * @type {EntitySchema}
     */
    // eslint-disable-next-line class-methods-use-this
    get schema() {
        return ChatMessage.SCHEMA;
    }

    /**
     * &#x8BBE;&#x7F6E; ID &#x5C5E;&#x6027;
     * @param {number} remoteId  ID &#x5C5E;&#x6027;
     * @memberof Chat
     */
    set id(remoteId) {
        super.id = remoteId;
        this._status.change(remoteId ? STATUS.ok : STATUS.sendFail);
    }

    /**
     * &#x83B7;&#x53D6; ID &#x5C5E;&#x6027;&#x503C;
     * @memberof Chat
     * @type {number}
     */
    get id() {
        return this.$get(&apos;id&apos;, 0);
    }

    /**
     * &#x83B7;&#x53D6;&#x6392;&#x5E8F;&#x5E8F;&#x53F7;
     * @memberof ChatMessage
     * @type {number}
     */
    get order() {
        return this.$get(&apos;order&apos;, 0);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6392;&#x5E8F;&#x5E8F;&#x53F7;
     * @param {number} order &#x6392;&#x5E8F;&#x5E8F;&#x53F7;
     * @memberof ChatMessage
     */
    set order(order) {
        this.$set(&apos;order&apos;, order);
    }

    /**
     * &#x83B7;&#x53D6;&#x72B6;&#x6001;&#x503C;
     * @memberof ChatMessage
     * @readonly
     * @type {number}
     */
    get status() {
        return this._status.value;
    }

    /**
     * &#x83B7;&#x53D6;&#x72B6;&#x6001;&#x540D;&#x79F0;
     * @memberof ChatMessage
     * @readonly
     * @type {string}
     */
    get statusName() {
        return this._status.name;
    }

    /**
     * &#x5224;&#x65AD;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x662F;&#x5426;&#x662F;&#x7ED9;&#x5B9A;&#x7684;&#x72B6;&#x6001;
     * @memberof ChatMessage
     * @param {number|string} status &#x8981;&#x5224;&#x65AD;&#x7684;&#x72B6;&#x6001;&#x503C;&#x6216;&#x72B6;&#x6001;&#x540D;&#x79F0;
     * @return {boolean} &#x5982;&#x679C;&#x4E3A; `true` &#x5219;&#x4E3A;&#x7ED9;&#x5B9A;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x662F;
     */
    isStatus(status) {
        return this._status.is(status);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5931;&#x8D25;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isSendFail() {
        return this.isStatus(STATUS.sendFail);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x53D1;&#x9001;&#x6210;&#x529F;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isOK() {
        return this.isStatus(STATUS.ok);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x5DF2;&#x53D1;&#x9001;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x7ED3;&#x679C;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isSending() {
        return this.isStatus(STATUS.sending);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x662F;&#x8349;&#x7A3F;&#x72B6;&#x6001;&#xFF08;&#x672A;&#x53D1;&#x9001;&#xFF09;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isDraft() {
        return this.isStatus(STATUS.draft);
    }

    /**
     * &#x6807;&#x8BB0;&#x4E3A;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x72B6;&#x6001;
     *
     * @memberof ChatMessage
     * @return {void}
     */
    beginSend() {
        this.$set(&apos;date&apos;, new Date().getTime());
        this._status.change(STATUS.sending);
        setTimeout(() =&gt; {
            if (this.isStatus(STATUS.sending)) {
                this._status.change(STATUS.sendFail);
            }
        }, SEND_WAIT_TIME);
    }

    /**
     * &#x6807;&#x8BB0;&#x4E3A;&#x7ED3;&#x675F;&#x53D1;&#x9001;
     *
     * @param {*} remoteId &#x670D;&#x52A1;&#x5668;&#x5B58;&#x50A8; ID&#xFF0C;&#x5982;&#x679C;&#x4E3A; `0`&#xFF0C;&#x8868;&#x793A;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF08;&#x6CA1;&#x6709;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B58;&#x50A8;&#xFF09;
     * @return {void}
     * @memberof ChatMessage
     */
    endSend(remoteId) {
        this.id = remoteId;
    }

    /**
     * &#x83B7;&#x53D6;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x5B57;&#x7B26;&#x4E32; GID
     * @memberof ChatMessage
     * @type {string}
     */
    get cgid() {
        return this.$get(&apos;cgid&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x5B57;&#x7B26;&#x4E32; GID
     * @param {string} gid &#x5168;&#x5C40;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x5B57;&#x7B26;&#x4E32; GID
     * @memberof ChatMessage
     */
    set cgid(gid) {
        this.$set(&apos;cgid&apos;, gid);
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x672A;&#x8BFB;&#x72B6;&#x6001;
     * @memberof ChatMessage
     * @type {boolean}
     */
    get unread() {
        return this.$get(&apos;unread&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x672A;&#x8BFB;&#x72B6;&#x6001;
     * @param {boolean} unread &#x5904;&#x4E8E;&#x672A;&#x8BFB;&#x72B6;&#x6001;
     * @memberof ChatMessage
     */
    set unread(unread) {
        this.$set(&apos;unread&apos;, unread);
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x989D;&#x5916;&#x5B58;&#x50A8;&#x6570;&#x636E;
     * @memberof ChatMessage
     * @type {Object}
     */
    get data() {
        if (this._data === undefined) {
            this._data = this.$get(&apos;data&apos;);
        }
        return this._data;
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x989D;&#x5916;&#x5B58;&#x50A8;&#x6570;&#x636E;
     * @param {any} data &#x6D88;&#x606F;&#x989D;&#x5916;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x4F1A;&#x8F6C;&#x6362;&#x4E3A; JSON &#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x5B58;&#x50A8;
     * @memberof ChatMessage
     */
    set data(data) {
        if (data !== undefined) {
            data = JSON.stringify(data);
            delete this._data;
        }
        this.$set(&apos;data&apos;, data);
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x6233;
     * @memberof ChatMessage
     * @type {number}
     */
    get date() {
        return this.$get(&apos;date&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x6233;
     * @param {number} date &#x6D88;&#x606F;&#x53D1;&#x9001;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x6233;
     * @memberof ChatMessage
     */
    set date(date) {
        this.$set(&apos;date&apos;, date);
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x6233;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x8BFB;&#x53D6; `date` &#x5C5E;&#x6027;
     * @memberof ChatMessage
     * @type {number}
     */
    get sendTime() {
        return this.date;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005; ID
     * @memberof ChatMessage
     * @type {number}
     */
    get senderId() {
        return this.$get(&apos;user&apos;);
    }

    /**
     * &#x5224;&#x65AD;&#x7ED9;&#x5B9A;&#x7684;&#x6210;&#x5458; ID &#x662F;&#x5426;&#x662F;&#x5F53;&#x524D;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;
     *
     * @param {number} userId &#x6210;&#x5458; ID
     * @returns {boolean} &#x5982;&#x679C;&#x8FD4;&#x56DE; `true` &#x5219;&#x4E3A;&#x662F;&#x5F53;&#x524D;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;&#xFF0C;&#x5426;&#x5219;&#x4E3A;&#x4E0D;&#x662F;&#x5F53;&#x524D;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;
     * @memberof ChatMessage
     */
    isSender(userId) {
        return this.senderId === userId;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;&#x6210;&#x5458;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     * @type {Member}
     */
    get sender() {
        if (!this._sender) {
            return new Member({
                id: this.senderId
            });
        }
        return this._sender;
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;
     * @param {Member} sendUser &#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;
     * @memberof ChatMessage
     */
    set sender(sendUser) {
        if (sendUser) {
            this._sender = sendUser;
            this.$set(&apos;user&apos;, sendUser.id);
        }
    }

    /**
     * &#x4ECE;&#x7CFB;&#x7EDF;&#x83B7;&#x53D6;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x6210;&#x5458;&#x5BF9;&#x8C61;
     *
     * @param {{get: function(id: number):Member}} appMembers &#x7528;&#x4E8E;&#x4ECE;&#x7CFB;&#x7EDF;&#x83B7;&#x53D6;&#x6210;&#x5458;&#x4FE1;&#x606F;&#x7684;&#x8F85;&#x52A9;&#x5BF9;&#x8C61;
     * @return {Member} &#x6D88;&#x606F;&#x53D1;&#x9001;&#x6210;&#x5458;
     * @memberof ChatMessage
     */
    getSender(appMembers) {
        this._sender = appMembers.get(this.senderId);
        return this._sender;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x7C7B;&#x578B;
     * @memberof ChatMessage
     * @type {string}
     */
    get contentType() {
        return this.$get(&apos;contentType&apos;, CONTENT_TYPES.text);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x7C7B;&#x578B;
     * @param {string} type &#x6D88;&#x606F;&#x5185;&#x5BB9;&#x7C7B;&#x578B;
     * @memberof ChatMessage
     */
    set contentType(type) {
        this.$set(&apos;contentType&apos;, type);
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x662F;&#x6587;&#x4EF6;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isFileContent() {
        return this.contentType === CONTENT_TYPES.file;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x662F;&#x6587;&#x672C;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isTextContent() {
        return this.contentType === CONTENT_TYPES.text || this.contentType === CONTENT_TYPES.plain;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x662F;&#x7EAF;&#x6587;&#x672C;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isPlainTextContent() {
        return this.contentType === CONTENT_TYPES.plain;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x662F;&#x56FE;&#x7247;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isImageContent() {
        return this.contentType === CONTENT_TYPES.image;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x662F;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isObjectContent() {
        return this.contentType === CONTENT_TYPES.object;
    }

    /**
     * &#x83B7;&#x53D6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;
     * @readonly
     * @memberof ChatMessage
     * @type {string}
     */
    get objectContentType() {
        return this.isObjectContent ? this.objectContent.type : null;
    }

    /**
     * &#x83B7;&#x53D6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @readonly
     * @memberof ChatMessage
     * @type {Object&lt;string, any&gt;}
     */
    get objectContent() {
        if (this.isObjectContent) {
            let objectContent = this._objectContent;
            if (!objectContent) {
                objectContent = JSON.parse(this.content);
                if (objectContent.path) {
                    delete objectContent.path;
                }
                this._objectContent = objectContent;
            }
            return objectContent;
        }
        return null;
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x7C7B;&#x578B;
     * @memberof ChatMessage
     * @type {string}
     */
    get type() {
        return this.$get(&apos;type&apos;, TYPES.normal);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x7C7B;&#x578B;
     * @param {string} type &#x6D88;&#x606F;&#x7C7B;&#x578B;
     * @memberof ChatMessage
     */
    set type(type) {
        this.$set(&apos;type&apos;, type);
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#x662F;&#x5426;&#x4E3A;&#x5E7F;&#x64AD;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isBroadcast() {
        return this.type === TYPES.broadcast;
    }

    /**
     * &#x83B7;&#x53D6;&#x539F;&#x59CB;&#x5185;&#x5BB9;&#x5B57;&#x7B26;&#x4E32;
     * @memberof ChatMessage
     * @type {string}
     */
    get content() {
        return this.$get(&apos;content&apos;);
    }

    /**
     * &#x8BBE;&#x7F6E;&#x539F;&#x59CB;&#x5185;&#x5BB9;&#x5B57;&#x7B26;&#x4E32;
     * @param {string} newContent &#x539F;&#x59CB;&#x5185;&#x5BB9;&#x5B57;&#x7B26;&#x4E32;
     * @memberof ChatMessage
     */
    set content(newContent) {
        this.$set(&apos;content&apos;, newContent);
        if (this._imageContent) {
            delete this._imageContent;
        }
        if (this._fileContent) {
            delete this._fileContent;
        }
        if (this._objectContent) {
            delete this._objectContent;
        }
        if (this._renderedTextContent) {
            delete this._renderedTextContent;
            delete this._isBlockContent;
        }
    }

    /**
     * &#x5C06;&#x6587;&#x672C;&#x6D88;&#x606F;&#x6E32;&#x67D3;&#x4E3A; HTML &#x683C;&#x5F0F;
     *
     * @param {...function(content: string, options: Object&lt;string,any&gt;)} converters &#x683C;&#x5F0F;&#x8F6C;&#x6362;&#x51FD;&#x6570;
     * @return {string} &#x8F6C;&#x6362;&#x540E;&#x7684; HTML &#x5B57;&#x7B26;&#x4E32;
     * @memberof ChatMessage
     */
    renderedTextContent(...converters) {
        if (this._renderedTextContent === undefined) {
            let {content} = this;
            const renderOptions = {renderMarkdown: !this.isPlainTextContent};
            if (typeof content === &apos;string&apos; &amp;&amp; content.length) {
                if (converters &amp;&amp; converters.length) {
                    converters.forEach(converter =&gt; {
                        content = converter(content, renderOptions);
                    });
                }
                this._renderedTextContent = content;
                this._isBlockContent = content &amp;&amp; (content.includes(&apos;&lt;h1&gt;&apos;) || content.includes(&apos;&lt;h2&gt;&apos;) || content.includes(&apos;&lt;h3&gt;&apos;));
            } else {
                this._renderedTextContent = &apos;&apos;;
                this._isBlockContent = false;
            }
        }
        return this._renderedTextContent;
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x5757;&#x7EA7;&#x5BCC;&#x6587;&#x672C;&#x6D88;&#x606F;&#xFF08;&#x81F3;&#x5C11;&#x5305;&#x542B;&#x4E00;&#x4E2A; 3 &#x7EA7;&#x4EE5;&#x4E0A;&#x7684;&#x6807;&#x9898;&#xFF09;
     * @memberof ChatMessage
     * @type {boolean}
     */
    get isBlockContent() {
        return this.renderedTextContent &amp;&amp; this._isBlockContent;
    }

    /**
     * &#x83B7;&#x53D6;&#x56FE;&#x7247;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     * @type {Object&lt;string,any&gt;}
     */
    get imageContent() {
        if (this.isImageContent) {
            let imageContent = this._imageContent;
            if (!imageContent) {
                imageContent = JSON.parse(this.content);
                if (imageContent.path) {
                    delete imageContent.path;
                }
                this._imageContent = imageContent;
            }
            return imageContent;
        }
        return null;
    }

    /**
     * &#x8BBE;&#x7F6E;&#x56FE;&#x7247;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @param {Object} content &#x56FE;&#x7247;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     */
    set imageContent(content) {
        delete content.path;

        this.contentType = CONTENT_TYPES.image;
        this._imageContent = content;
        this.content = JSON.stringify(content);
    }

    /**
     * &#x66F4;&#x65B0;&#x56FE;&#x7247;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     *
     * @param {Object} content &#x56FE;&#x7247;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @return {void}
     * @memberof ChatMessage
     */
    updateImageContent(content) {
        this._imageContent = Object.assign({}, this.imageContent, content);
        this.content = JSON.stringify(this._imageContent);
    }

    /**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     * @type {Object&lt;string,any&gt;}
     */
    get fileContent() {
        if (this.isFileContent) {
            let fileContent = this._fileContent;
            if (!fileContent) {
                fileContent = JSON.parse(this.content);
                if (fileContent.path) {
                    delete fileContent.path;
                }
                this._fileContent = fileContent;
            }
            if (fileContent) {
                fileContent.user = this.user;
                if (this._sender) {
                    fileContent.sender = this.sender;
                }
                fileContent.senderId = this.senderId;
                fileContent.attachFile = this.attachFile;
                fileContent.date = this.sendTime;
                fileContent.gid = this.gid;
            }
            return fileContent;
        }
        return null;
    }

    /**
     * &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @param {Object} content &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     */
    set fileContent(content) {
        delete content.path;

        this.contentType = CONTENT_TYPES.file;
        this.content = JSON.stringify({
            name: content.name || content.title,
            size: content.size,
            send: content.send,
            type: content.type,
            id: content.id,
            time: content.time,
            isImage: content.type &amp;&amp; content.type.startsWith(&apos;image&apos;)
        });
        this._fileContent = content;
    }

    /**
     * &#x66F4;&#x65B0;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     *
     * @param {Object} content &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;
     * @return {void}
     * @memberof ChatMessage
     */
    updateFileContent(content) {
        this._fileContent = Object.assign({}, this.fileContent, content);
        this.content = JSON.stringify(this._fileContent);
    }

    /**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x6307;&#x4EE4;&#x5BF9;&#x8C61;
     *
     * @return {{action: string}} &#x6D88;&#x606F;&#x6307;&#x4EE4;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     */
    getCommand() {
        if (this.contentType === &apos;text&apos;) {
            const content = this.content.trim();
            if (content === &apos;$$version&apos;) {
                return {action: &apos;version&apos;};
            }
            if (content === &apos;$$dataPath&apos;) {
                return {action: &apos;dataPath&apos;};
            }
        }
        return null;
    }

    /**
     * &#x91CD;&#x7F6E;&#x5B9E;&#x4F53;&#x5C5E;&#x6027;
     *
     * @param {Object} newData &#x5C5E;&#x6027;&#x5BF9;&#x8C61;
     * @memberof ChatMessage
     * @return {void}
     */
    reset(newData) {
        if (newData instanceof ChatMessage) {
            newData = newData.plain();
        }
        this.$set(newData);
        this._status.change(newData.status);
        delete this._fileContent;
        delete this._imageContent;
        delete this._isBlockContent;
        delete this._renderedTextContent;
        delete this._sender;
    }

    /**
     * &#x68C0;&#x67E5;&#x6D88;&#x606F;&#x662F;&#x5426;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x91CD;&#x65B0;&#x53D1;&#x9001;
     * @type {boolean}
     * @memberof ChatMessage
     * @readonly
     */
    get needCheckResend() {
        return !this.id;
    }

    /**
     * &#x5224;&#x65AD;&#x6D88;&#x606F;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5931;&#x8D25;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x53D1;&#x9001;
     * @type {boolean}
     * @memberof ChatMessage
     * @readonly
     */
    get needResend() {
        return this.needCheckResend &amp;&amp; this.isSendFailed &amp;&amp; !this.isFileContent &amp;&amp; !this.isImageContent;
    }

    /**
     * &#x83B7;&#x53D6;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5931;&#x8D25;
     * @memberof ChatMessage
     * @type {boolean}
     * @readonly
     */
    get isSendFailed() {
        return this.needCheckResend &amp;&amp; this.isOutdated;
    }

    /**
     * &#x68C0;&#x67E5;&#x6D88;&#x606F;&#x662F;&#x5426;&#x8FC7;&#x671F;&#xFF08;&#x5728;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x6CA1;&#x6709;&#x6536;&#x5230;&#x670D;&#x52A1;&#x5668;&#x56DE;&#x5E94;&#x7684;&#x8FDC;&#x7A0B;&#x5B58;&#x50A8; ID&#xFF09;
     * @type {boolean}
     * @memberof ChatMessage
     * @readonly
     */
    get isOutdated() {
        return (new Date().getTime() - this.date) &gt; 10000;
    }

    /**
     * &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x804A;&#x5929;&#x6D88;&#x606F;&#x7C7B;&#x5B9E;&#x4F8B;
     *
     * @static
     * @param {Object&lt;string,any&gt;|ChatMessage} chatMessage &#x804A;&#x5929;&#x6D88;&#x606F;&#x5C5E;&#x6027;&#x5BF9;&#x8C61;&#x6216;&#x8005;&#x804A;&#x5929;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;
     * @return {ChatMessage} &#x804A;&#x5929;&#x6D88;&#x606F;&#x7C7B;&#x5B9E;&#x4F8B;
     * @memberof ChatMessage
     */
    static create(chatMessage) {
        if (chatMessage instanceof ChatMessage) {
            return chatMessage;
        }
        return new ChatMessage(chatMessage);
    }

    /**
     * &#x5BF9;&#x804A;&#x5929;&#x6D88;&#x606F;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x6392;&#x5E8F;
     * @param  {ChatMessage[]} messages &#x8981;&#x6392;&#x5E8F;&#x7684;&#x804A;&#x5929;&#x5217;&#x8868;
     * @return {ChatMessage[]} &#x6392;&#x5E8F;&#x540E;&#x7684;&#x804A;&#x5929;&#x5217;&#x8868;
     * @memberof ChatMessage
     * @static
     */
    static sort(messages) {
        return messages.sort((x, y) =&gt; {
            let orderResult = x.date - y.date;
            if (orderResult === 0 &amp;&amp; x.order &amp;&amp; y.order) {
                orderResult = x.order - y.order;
            }
            if (orderResult === 0) {
                orderResult = (x.id || Number.MAX_SAFE_INTEGER) - (y.id || Number.MAX_SAFE_INTEGER);
            }
            return orderResult;
        });
    }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
